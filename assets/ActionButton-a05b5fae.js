import{r as e,bp as r,B as t,aH as n}from"./index-26bed70f.js";function u(e){return!(!e||!e.then)}const i=i=>{const{type:l,children:o,prefixCls:s,buttonProps:c,close:f,autoFocus:a,emitEvent:p,isSilent:d,quitOnNullishReturnValue:v,actionFn:m}=i,h=e.useRef(!1),x=e.useRef(null),[b,g]=r(!1),j=function(){null==f||f.apply(void 0,arguments)};e.useEffect((()=>{let e=null;return a&&(e=setTimeout((()=>{var e;null===(e=x.current)||void 0===e||e.focus()}))),()=>{e&&clearTimeout(e)}}),[]);return e.createElement(t,Object.assign({},n(l),{onClick:e=>{if(h.current)return;if(h.current=!0,!m)return void j();let r;if(p){if(r=m(e),v&&!u(r))return h.current=!1,void j(e)}else if(m.length)r=m(f),h.current=!1;else if(r=m(),!r)return void j();(e=>{u(e)&&(g(!0),e.then((function(){g(!1,!0),j.apply(void 0,arguments),h.current=!1}),(e=>{if(g(!1,!0),h.current=!1,!(null==d?void 0:d()))return Promise.reject(e)})))})(r)},loading:b,prefixCls:s},c,{ref:x}),o)};export{i as A};
