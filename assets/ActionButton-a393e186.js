import{r as e,bm as r,B as t,aE as n}from"./index-b7f5d5f9.js";function u(e){return!(!e||!e.then)}const i=i=>{const{type:l,children:o,prefixCls:s,buttonProps:c,close:f,autoFocus:a,emitEvent:d,isSilent:p,quitOnNullishReturnValue:v,actionFn:m}=i,h=e.useRef(!1),x=e.useRef(null),[E,b]=r(!1),g=function(){null==f||f.apply(void 0,arguments)};e.useEffect((()=>{let e=null;return a&&(e=setTimeout((()=>{var e;null===(e=x.current)||void 0===e||e.focus()}))),()=>{e&&clearTimeout(e)}}),[]);return e.createElement(t,Object.assign({},n(l),{onClick:e=>{if(h.current)return;if(h.current=!0,!m)return void g();let r;if(d){if(r=m(e),v&&!u(r))return h.current=!1,void g(e)}else if(m.length)r=m(f),h.current=!1;else if(r=m(),!r)return void g();(e=>{u(e)&&(b(!0),e.then((function(){b(!1,!0),g.apply(void 0,arguments),h.current=!1}),(e=>{if(b(!1,!0),h.current=!1,!(null==p?void 0:p()))return Promise.reject(e)})))})(r)},loading:E,prefixCls:s},c,{ref:x}),o)};export{i as A};
